import{S as b,i as u,a as x}from"./assets/vendor-89feecc5.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();const g=document.querySelector(".js-search-form"),f=document.querySelector("input"),h=document.querySelector(".gallery"),q=document.querySelector(".loader"),v=document.querySelector(".js-loader"),i=document.querySelector(".more--btn"),m=document.querySelector(".non-existent");let a=1,y,d;const p=new b(".gallery a",{captions:!0,captionDelay:250,fadeSpeed:250,captionSelector:"img",captionsData:"alt",captionPosition:"bottom"});async function E(e,o){const t=new URLSearchParams({key:"41648594-e525389370aefc2e125a1a54e",q:o,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:40,page:e});try{return await x({method:"get",url:`https://pixabay.com/api/?${t}`})}catch(n){console.error(n.message)}}async function S(e,o){try{const t=await E(e,o);console.log(t.headers["x-ratelimit-remaining"]),console.log(t);const n=t.headers["x-ratelimit-remaining"];console.log(`Remaining requests: ${n}`),l(),$(t),a!==1?(h.insertAdjacentHTML("beforeend",w(t.data)),p.refresh(),I()):(h.innerHTML=w(t.data),p.refresh())}catch(t){console.error(t.message)}}function w({hits:e}){return e.map(t=>`
    <li class="gallery__item">
    <a href="${t.largeImageURL}">
    <img class="gallery--img" src="${t.webformatURL}" alt="${t.tags}" title="${t.tags}"/>
    </a>
<ul class="gallery__list--characters">
  <p>likes: ${t.likes}</p>
  <p>views: ${t.views}</p>
  <p>comments: ${t.comments}</p>
  <p>downloads: ${t.downloads}</p>
</ul>
    </li>
    `).join("")}const $=e=>{try{if(d=Math.round(e.data.totalHits/40),e.data.hits.length<40&e.data.hits.length!==0)return i.classList.add("switcher"),u.info({title:"Hey!",message:"We re sorry, but you ve reached the end of search results."});if(e.data.hits.length===0)return i.classList.add("switcher"),u.error({title:"Error",message:"Sorry, there are no images matching your search query. Please try again!"});if(d===a&d!==1)return i.classList.add("switcher"),u.info({title:"Hey!",message:"We re sorry, but you ve reached the end of search results."});i.classList.remove("switcher")}catch(o){console.error(o.message)}},M=e=>(m.textContent=e,m.textContent),l=()=>{q.classList.toggle("switcher")},L=()=>{v.classList.toggle("non-existent")};function H(){const e=document.querySelector(".gallery__item");if(e){const o=e.getBoundingClientRect();return Math.round(o.height)}return 0}function I(){const e=H();e>0&&window.scrollBy({top:e*2,left:0,behavior:"smooth"})}l();g.addEventListener("submit",e=>{e.preventDefault(),a=1,l(),S(a,f.value),M(f.value),g.reset()});i.addEventListener("click",e=>{L(),a+=1,y=m.textContent,S(a,y),l(),L()});
//# sourceMappingURL=commonHelpers.js.map
