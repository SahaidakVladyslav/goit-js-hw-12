import{S as b,i as d,a as q}from"./assets/vendor-89feecc5.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();const g=document.querySelector(".js-search-form"),l=document.querySelector("input"),y=document.querySelector(".gallery"),x=document.querySelector(".loader"),E=document.querySelector(".js-loader"),n=document.querySelector(".more--btn"),f=document.querySelector(".non-existent");let a=1,m;const h=new b(".gallery a",{captions:!0,captionDelay:250,fadeSpeed:250,captionSelector:"img",captionsData:"alt",captionPosition:"bottom"});async function p(e,o){const t=new URLSearchParams({key:"41648594-e525389370aefc2e125a1a54e",q:o,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:40,page:e});try{return await q({method:"get",url:`https://pixabay.com/api/?${t}`})}catch{return!1}}async function S(e,o){try{const t=await p(e,o);c(),a!==1?(y.insertAdjacentHTML("beforeend",w(t.data)),h.refresh()):(y.innerHTML=w(t.data),h.refresh()),_()}catch{}}function w({hits:e}){return e.map(t=>`
    <li class="gallery__item">
    <a href="${t.largeImageURL}">
    <img class="gallery--img" src="${t.webformatURL}" alt="${t.tags}" title="${t.tags}"/>
    </a>
<ul class="gallery__list--characters">
  <p>likes: ${t.likes}</p>
  <p>views: ${t.views}</p>
  <p>comments: ${t.comments}</p>
  <p>downloads: ${t.downloads}</p>
</ul>
    </li>
    `).join("")}const v=async e=>{try{const o=await p(a+1,e);if(o===!1||o.data.hits.length===0)return n.classList.add("switcher"),d.info({title:"Hey!",message:"Sorry, there are no more images matching your search query. Please try find some another photo!"});const t=await p(1,l.value);if(t.data.hits.length<40)return n.classList.add("switcher"),console.log("izitoast"),d.info({title:"Hey!",message:"Sorry, there are no more images matching your search query."});if(t.data.hits.length===0)return n.classList.add("switcher"),y.innerHTML="",d.error({title:"Error",message:"Sorry, there are no images matching your search query. Please try again!"});n.classList.remove("switcher")}catch{}},$=e=>(f.textContent=e,f.textContent),c=()=>{x.classList.toggle("switcher")},L=()=>{E.classList.toggle("non-existent")};function I(){const e=document.querySelector(".gallery__item");return e?e.getBoundingClientRect().height:0}function _(){const e=I();e>0&&window.scrollBy({top:e*2,left:0,behavior:"smooth"})}c();g.addEventListener("submit",e=>{e.preventDefault(),a=1,c(),S(1,l.value),v(l.value),$(l.value),g.reset()});n.addEventListener("click",e=>{L(),a+=1,m=f.textContent,S(a,m),v(m),c(),L()});
//# sourceMappingURL=commonHelpers.js.map
