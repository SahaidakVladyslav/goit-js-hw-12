{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst formEl = document.querySelector('.js-search-form')\nconst inputEl = document.querySelector('input')\nconst galleryEl = document.querySelector('.gallery')\n\nlet gallery = new SimpleLightbox('.gallery a', {\n    captions: true,\n    captionDelay: 250,\n    fadeSpeed: 250,\n    captionSelector: \"img\",\n    captionsData: 'alt',\n    captionPosition: 'bottom',\n});\n\nfunction promesUrl() {\n    const urlFromPixaby = new URLSearchParams({\n        key: '41648594-e525389370aefc2e125a1a54e',\n        q: `${inputEl.value}`,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true\n    })\n\n    return fetch(`https://pixabay.com/api/?${urlFromPixaby}`)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.statusText);\n            }\n\n            return response.json()\n        })\n        .catch(error => new Error(error))\n}\n\n\nfunction markup({ hits }) {\n    const typset = hits.map(item => `\n    <li class=\"gallery__item\">\n    <a href=\"${item.largeImageURL}\">\n    <img class=\"gallery--img\" src=\"${item.webformatURL}\" alt=\"${item.tags}\" title=\"${item.tags}\"/>\n    </a>\n<ul class=\"gallery__list--characters\">\n  <p>likes: ${item.likes}</p>\n  <p>views: ${item.views}</p>\n  <p>comments: ${item.comments}</p>\n  <p>downloads: ${item.downloads}</p>\n</ul>\n    </li>`).join('')\n\n    galleryEl.innerHTML = typset\n}\n\n\n\nif (!document.querySelector('.gallery__item')) {\n    document.querySelector('.loader').style.display = \"none\"\n}\n\n\n\nformEl.addEventListener('submit', (event) => {\n    event.preventDefault()\n\n    document.querySelector('.loader').style.display = \"block\"\n    promesUrl()\n        .then(response => {\n            markup(response)\n            gallery.refresh();\n            if (document.querySelector('.gallery__item')) {\n                document.querySelector('.loader').style.display = \"none\"\n            }\n            if (response.hits.length === 0) {\n                iziToast.error({\n                    title: 'Error',\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                });\n                document.querySelector('.loader').style.display = \"none\"\n            }\n        })\n        .catch(error => new Error(error));\n    formEl.reset()\n})"],"names":["formEl","inputEl","galleryEl","gallery","SimpleLightbox","promesUrl","urlFromPixaby","response","error","markup","hits","typset","item","event","iziToast"],"mappings":"6vBAKA,MAAMA,EAAS,SAAS,cAAc,iBAAiB,EACjDC,EAAU,SAAS,cAAc,OAAO,EACxCC,EAAY,SAAS,cAAc,UAAU,EAEnD,IAAIC,EAAU,IAAIC,EAAe,aAAc,CAC3C,SAAU,GACV,aAAc,IACd,UAAW,IACX,gBAAiB,MACjB,aAAc,MACd,gBAAiB,QACrB,CAAC,EAED,SAASC,GAAY,CACjB,MAAMC,EAAgB,IAAI,gBAAgB,CACtC,IAAK,qCACL,EAAG,GAAGL,EAAQ,QACd,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAED,OAAO,MAAM,4BAA4BK,GAAe,EACnD,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,UAAU,EAGvC,OAAOA,EAAS,KAAM,CAClC,CAAS,EACA,MAAMC,GAAS,IAAI,MAAMA,CAAK,CAAC,CACxC,CAGA,SAASC,EAAO,CAAE,KAAAC,GAAQ,CACtB,MAAMC,EAASD,EAAK,IAAIE,GAAQ;AAAA;AAAA,eAErBA,EAAK;AAAA,qCACiBA,EAAK,sBAAsBA,EAAK,gBAAgBA,EAAK;AAAA;AAAA;AAAA,cAG5EA,EAAK;AAAA,cACLA,EAAK;AAAA,iBACFA,EAAK;AAAA,kBACJA,EAAK;AAAA;AAAA,UAEb,EAAE,KAAK,EAAE,EAEfV,EAAU,UAAYS,CAC1B,CAIK,SAAS,cAAc,gBAAgB,IACxC,SAAS,cAAc,SAAS,EAAE,MAAM,QAAU,QAKtDX,EAAO,iBAAiB,SAAWa,GAAU,CACzCA,EAAM,eAAgB,EAEtB,SAAS,cAAc,SAAS,EAAE,MAAM,QAAU,QAClDR,EAAW,EACN,KAAKE,GAAY,CACdE,EAAOF,CAAQ,EACfJ,EAAQ,QAAO,EACX,SAAS,cAAc,gBAAgB,IACvC,SAAS,cAAc,SAAS,EAAE,MAAM,QAAU,QAElDI,EAAS,KAAK,SAAW,IACzBO,EAAS,MAAM,CACX,MAAO,QACP,QAAS,0EAC7B,CAAiB,EACD,SAAS,cAAc,SAAS,EAAE,MAAM,QAAU,OAElE,CAAS,EACA,MAAMN,GAAS,IAAI,MAAMA,CAAK,CAAC,EACpCR,EAAO,MAAO,CAClB,CAAC"}